{"ast":null,"code":"import _slicedToArray from \"/home/suporte03/Documentos/Labenu/pokedex/Johnson-pokedex2/pokedex2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/home/suporte03/Documentos/Labenu/pokedex/Johnson-pokedex2/pokedex2/src/global/GlobalState.js\";\n\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { BASE_URL } from \"../constants/urls\";\nimport GlobalStateContext from \"./GlobalStateContext\";\n\nvar GlobalState = function GlobalState(props) {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      pokemonNames = _useState2[0],\n      setPokemonNames = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      pokemons = _useState4[0],\n      setPokemons = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      pokedex = _useState6[0],\n      setPokedex = _useState6[1];\n\n  useEffect(function () {\n    getPokemonNames();\n  }, []);\n  useEffect(function () {\n    var newList = [];\n    pokemonNames.forEach(function (item) {\n      axios.get(\"\".concat(BASE_URL, \"/pokemon/\").concat(item.name)).then(function (response) {\n        newList.push(response.data);\n\n        if (newList.length === 20) {\n          var orderedList = newList.sort(function (a, b) {\n            return a.id - b.id;\n          });\n          setPokemons(orderedList);\n        }\n      }).catch(function (error) {\n        return console.log(error.message);\n      });\n    });\n  }, [pokemonNames]);\n\n  var getPokemonNames = function getPokemonNames() {\n    axios.get(\"\".concat(BASE_URL, \"/pokemon?limit=20\")).then(function (response) {\n      setPokemonNames(response.data.results);\n    }).catch(function (error) {\n      return console.log(error.message);\n    });\n  };\n\n  var data = {\n    pokemons: pokemons,\n    setPokemons: setPokemons,\n    pokedex: pokedex,\n    setPokedex: setPokedex\n  };\n  return /*#__PURE__*/React.createElement(GlobalStateContext.Provider, {\n    value: data,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 5\n    }\n  }, props.children);\n};\n\nexport default GlobalState;","map":{"version":3,"sources":["/home/suporte03/Documentos/Labenu/pokedex/Johnson-pokedex2/pokedex2/src/global/GlobalState.js"],"names":["React","useEffect","useState","axios","BASE_URL","GlobalStateContext","GlobalState","props","pokemonNames","setPokemonNames","pokemons","setPokemons","pokedex","setPokedex","getPokemonNames","newList","forEach","item","get","name","then","response","push","data","length","orderedList","sort","a","b","id","catch","error","console","log","message","results","children"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAyB,mBAAzB;AACA,OAAOC,kBAAP,MAA+B,sBAA/B;;AAEA,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAACC,KAAD,EAAW;AAC7B,kBAAwCL,QAAQ,CAAC,EAAD,CAAhD;AAAA;AAAA,MAAOM,YAAP;AAAA,MAAqBC,eAArB;;AACA,mBAAgCP,QAAQ,CAAC,EAAD,CAAxC;AAAA;AAAA,MAAOQ,QAAP;AAAA,MAAiBC,WAAjB;;AACA,mBAA8BT,QAAQ,CAAC,EAAD,CAAtC;AAAA;AAAA,MAAOU,OAAP;AAAA,MAAgBC,UAAhB;;AAEAZ,EAAAA,SAAS,CAAC,YAAM;AACda,IAAAA,eAAe;AAChB,GAFQ,EAEN,EAFM,CAAT;AAIAb,EAAAA,SAAS,CAAC,YAAM;AACd,QAAMc,OAAO,GAAG,EAAhB;AACAP,IAAAA,YAAY,CAACQ,OAAb,CAAqB,UAACC,IAAD,EAAU;AAC7Bd,MAAAA,KAAK,CACFe,GADH,WACUd,QADV,sBAC8Ba,IAAI,CAACE,IADnC,GAEGC,IAFH,CAEQ,UAACC,QAAD,EAAc;AAClBN,QAAAA,OAAO,CAACO,IAAR,CAAaD,QAAQ,CAACE,IAAtB;;AACA,YAAIR,OAAO,CAACS,MAAR,KAAmB,EAAvB,EAA2B;AACzB,cAAMC,WAAW,GAAGV,OAAO,CAACW,IAAR,CAAa,UAACC,CAAD,EAAIC,CAAJ,EAAU;AACzC,mBAAOD,CAAC,CAACE,EAAF,GAAOD,CAAC,CAACC,EAAhB;AACD,WAFmB,CAApB;AAGAlB,UAAAA,WAAW,CAACc,WAAD,CAAX;AACD;AACF,OAVH,EAWGK,KAXH,CAWS,UAACC,KAAD;AAAA,eAAWC,OAAO,CAACC,GAAR,CAAYF,KAAK,CAACG,OAAlB,CAAX;AAAA,OAXT;AAYD,KAbD;AAcD,GAhBQ,EAgBN,CAAC1B,YAAD,CAhBM,CAAT;;AAkBA,MAAMM,eAAe,GAAG,SAAlBA,eAAkB,GAAM;AAC5BX,IAAAA,KAAK,CACFe,GADH,WACUd,QADV,wBAEGgB,IAFH,CAEQ,UAACC,QAAD,EAAc;AAClBZ,MAAAA,eAAe,CAACY,QAAQ,CAACE,IAAT,CAAcY,OAAf,CAAf;AACD,KAJH,EAKGL,KALH,CAKS,UAACC,KAAD;AAAA,aAAWC,OAAO,CAACC,GAAR,CAAYF,KAAK,CAACG,OAAlB,CAAX;AAAA,KALT;AAMD,GAPD;;AASA,MAAMX,IAAI,GAAG;AACXb,IAAAA,QAAQ,EAARA,QADW;AAEXC,IAAAA,WAAW,EAAXA,WAFW;AAGXC,IAAAA,OAAO,EAAPA,OAHW;AAIXC,IAAAA,UAAU,EAAVA;AAJW,GAAb;AAOA,sBACE,oBAAC,kBAAD,CAAoB,QAApB;AAA6B,IAAA,KAAK,EAAEU,IAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGhB,KAAK,CAAC6B,QADT,CADF;AAKD,CAhDD;;AAkDA,eAAe9B,WAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { BASE_URL } from \"../constants/urls\";\nimport GlobalStateContext from \"./GlobalStateContext\";\n\nconst GlobalState = (props) => {\n  const [pokemonNames, setPokemonNames] = useState([]);\n  const [pokemons, setPokemons] = useState([]);\n  const [pokedex, setPokedex] = useState([]);\n\n  useEffect(() => {\n    getPokemonNames();\n  }, []);\n\n  useEffect(() => {\n    const newList = [];\n    pokemonNames.forEach((item) => {\n      axios\n        .get(`${BASE_URL}/pokemon/${item.name}`)\n        .then((response) => {\n          newList.push(response.data);\n          if (newList.length === 20) {\n            const orderedList = newList.sort((a, b) => {\n              return a.id - b.id;\n            });\n            setPokemons(orderedList);\n          }\n        })\n        .catch((error) => console.log(error.message));\n    });\n  }, [pokemonNames]);\n\n  const getPokemonNames = () => {\n    axios\n      .get(`${BASE_URL}/pokemon?limit=20`)\n      .then((response) => {\n        setPokemonNames(response.data.results);\n      })\n      .catch((error) => console.log(error.message));\n  };\n\n  const data = {\n    pokemons,\n    setPokemons,\n    pokedex,\n    setPokedex\n  };\n\n  return (\n    <GlobalStateContext.Provider value={data}>\n      {props.children}\n    </GlobalStateContext.Provider>\n  );\n};\n\nexport default GlobalState;\n"]},"metadata":{},"sourceType":"module"}