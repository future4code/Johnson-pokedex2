{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\Hernan\\\\Desktop\\\\projetos\\\\Johnson-pokedex2\\\\pokedex2\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useContext,useEffect,useState}from\"react\";import{useParams}from\"react-router-dom\";import GlobalStateContext from\"../../global/GlobalStateContext\";import{useHistory}from\"react-router-dom\";import{goToPokedex}from\"../../routes/coordinator\";import{TypeAndMovesContainer,PokeInfosContainer,ImgWrapper,ImagesContainer,StatsContainer,TitleContainer,TypesContainer,MovesContainer}from\"./styled\";import Header from\"../../components/Header/Header\";import{BASE_URL}from\"../../constants/urls\";import axios from\"axios\";var PokemonDetailPage=function PokemonDetailPage(){var _useParams=useParams(),name=_useParams.name,telaPokedex=_useParams.telaPokedex;var history=useHistory();var _useContext=useContext(GlobalStateContext),pokemons=_useContext.pokemons,pokedex=_useContext.pokedex;var _useState=useState({}),_useState2=_slicedToArray(_useState,2),selectedPokemon=_useState2[0],setSelectedPokemon=_useState2[1];useEffect(function(){var current=[];if(telaPokedex){current=pokedex.find(function(item){return item.name===name;});}else{current=pokemons.find(function(item){return item.name===name;});}if(!current){axios.get(\"\".concat(BASE_URL,\"/pokemon/\").concat(name)).then(function(res){return setSelectedPokemon(res.data);}).catch(function(err){return console.log(err.response.message);});}else{setSelectedPokemon(current);}},[]);return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Header,{title:name,leftButtonFunction:function leftButtonFunction(){return goToPokedex(history);}}),selectedPokemon&&selectedPokemon.sprites&&/*#__PURE__*/React.createElement(PokeInfosContainer,null,/*#__PURE__*/React.createElement(ImagesContainer,null,/*#__PURE__*/React.createElement(ImgWrapper,{src:selectedPokemon.sprites.front_default}),/*#__PURE__*/React.createElement(ImgWrapper,{src:selectedPokemon.sprites.back_default})),/*#__PURE__*/React.createElement(StatsContainer,null,/*#__PURE__*/React.createElement(TitleContainer,null,\"Poderes\"),selectedPokemon&&selectedPokemon.stats.map(function(stat){return/*#__PURE__*/React.createElement(\"p\",{key:stat.stat.name},/*#__PURE__*/React.createElement(\"strong\",null,stat.stat.name,\": \"),stat.base_stat);})),/*#__PURE__*/React.createElement(TypeAndMovesContainer,null,/*#__PURE__*/React.createElement(TypesContainer,null,selectedPokemon&&selectedPokemon.types.map(function(type){return/*#__PURE__*/React.createElement(TitleContainer,{key:type.type.name},\" \",type.type.name);})),/*#__PURE__*/React.createElement(MovesContainer,null,/*#__PURE__*/React.createElement(TitleContainer,null,\"Principais ataques\"),selectedPokemon&&selectedPokemon.moves.map(function(move,index){return index<5&&/*#__PURE__*/React.createElement(\"p\",{key:move.move.name},move.move.name);})))));};export default PokemonDetailPage;","map":{"version":3,"sources":["C:/Users/Hernan/Desktop/projetos/Johnson-pokedex2/pokedex2/src/pages/PokemonDetailPage/PokemonDetailPage.js"],"names":["React","useContext","useEffect","useState","useParams","GlobalStateContext","useHistory","goToPokedex","TypeAndMovesContainer","PokeInfosContainer","ImgWrapper","ImagesContainer","StatsContainer","TitleContainer","TypesContainer","MovesContainer","Header","BASE_URL","axios","PokemonDetailPage","name","telaPokedex","history","pokemons","pokedex","selectedPokemon","setSelectedPokemon","current","find","item","get","then","res","data","catch","err","console","log","response","message","sprites","front_default","back_default","stats","map","stat","base_stat","types","type","moves","move","index"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport GlobalStateContext from \"../../global/GlobalStateContext\";\nimport { useHistory } from \"react-router-dom\";\nimport { goToPokedex } from \"../../routes/coordinator\"\nimport {\n  TypeAndMovesContainer,\n  PokeInfosContainer,\n  ImgWrapper,\n  ImagesContainer,\n  StatsContainer,\n  TitleContainer,\n  TypesContainer,\n  MovesContainer\n} from \"./styled\";\nimport Header from \"../../components/Header/Header\";\nimport { BASE_URL } from \"../../constants/urls\";\nimport axios from \"axios\";\n\nconst PokemonDetailPage = () => {\n  const { name, telaPokedex } = useParams();\n  const history = useHistory();\n  const { pokemons, pokedex } = useContext(GlobalStateContext);\n  const [selectedPokemon, setSelectedPokemon] = useState({});\n\n \n  useEffect(() => {\n    let current = [];\n    if (telaPokedex) {\n      current = pokedex.find((item) => {\n        return item.name === name;\n      });\n    } else {\n      current = pokemons.find((item) => {\n        return item.name === name;\n      });\n    }\n\n    if (!current) {\n      axios\n        .get(`${BASE_URL}/pokemon/${name}`)\n        .then((res) => setSelectedPokemon(res.data))\n        .catch((err) => console.log(err.response.message));\n    } else {\n      setSelectedPokemon(current);\n    }\n  }, []);\n\n  return (\n    <div>\n      <Header\n        title={name}\n        leftButtonFunction={() => goToPokedex(history)}\n      />\n      \n      \n      {selectedPokemon && selectedPokemon.sprites && (\n        <PokeInfosContainer>\n          <ImagesContainer>\n            <ImgWrapper src={selectedPokemon.sprites.front_default} />\n            <ImgWrapper src={selectedPokemon.sprites.back_default} />\n          </ImagesContainer>\n          <StatsContainer>\n            <TitleContainer>Poderes</TitleContainer>\n            {selectedPokemon &&\n              selectedPokemon.stats.map((stat) => {\n                return (\n                  <p key={stat.stat.name}>\n                    <strong>{stat.stat.name}: </strong>\n                    {stat.base_stat}\n                  </p>\n                );\n              })}\n          </StatsContainer>\n          <TypeAndMovesContainer>\n            <TypesContainer>\n              {selectedPokemon &&\n                selectedPokemon.types.map((type) => {\n                  return <TitleContainer key={type.type.name}> {type.type.name}</TitleContainer>;\n                })}\n            </TypesContainer>\n            <MovesContainer>\n              <TitleContainer>Principais ataques</TitleContainer>\n              {selectedPokemon &&\n                selectedPokemon.moves.map((move, index) => {\n                  return (\n                    index < 5 && <p key={move.move.name}>{move.move.name}</p>\n                  );\n                })}\n            </MovesContainer>\n          </TypeAndMovesContainer>\n        </PokeInfosContainer>\n      )}\n    </div>\n  );\n};\n\nexport default PokemonDetailPage;\n"]},"metadata":{},"sourceType":"module"}